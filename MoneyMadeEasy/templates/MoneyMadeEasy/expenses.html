{% extends "MoneyMadeEasy/layout.html" %}

<!-- Display confirmation message before deleting expense entries -->
{% block script %}
    <script>
        function remove_expense(ID_num) {
            if (confirm("Are you sure you want to remove this expense?")) {
                window.location.href = "{% url 'remove_expense' 123 %}".replace('123', ID_num);
            }
        }
    </script>
{% endblock %}

<!-- Form to edit/delete expenses -->
{% block body %}
    <h3>Monthly Expenses</h3>
    <ul>
        {% for expense in expenses %}
            <a href="{% url 'edit_expense' expense.id %}">
                <li>Name: {{ expense.name }}, Category: {{ expense.category }}, Amount ($): ${{ expense.amount }}</li>
            </a>
            <input style="margin-top: 5px; margin-bottom: 5px;" type="submit" onclick="remove_expense('{{ expense.id }}')" value="Remove this Expense">
        {% empty %}
            <li>No expenses so far!</li>
        {% endfor %}
    </ul>
    <a href="{% url 'add_expense' %}">Add a New Expense</a>
{% endblock %}